@import "tailwindcss";
@config "../tailwind.config.cjs";

@layer base {
  body {
    font-family: 'Manrope', 'Segoe UI', 'Helvetica Neue', sans-serif;
    font-size: 14px;
    line-height: 1.5;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  h1, h2, h3, h4 {
    font-family: 'Epilogue', 'Manrope', sans-serif;
    letter-spacing: -0.02em;
  }

  /* VT News Typography */
  [data-theme="vt-news"] body {
    font-family: 'Sora', 'Segoe UI', sans-serif;
    font-weight: 400;
  }

  [data-theme="vt-news"] h1,
  [data-theme="vt-news"] h2,
  [data-theme="vt-news"] h3,
  [data-theme="vt-news"] h4 {
    font-weight: 700;
    letter-spacing: -0.035em;
  }

  /* Valuetainment Typography */
  [data-theme="valuetainment"] body {
    font-family: 'Sora', 'Barlow', sans-serif;
    font-weight: 400;
  }

  [data-theme="valuetainment"] h1,
  [data-theme="valuetainment"] h2,
  [data-theme="valuetainment"] h3,
  [data-theme="valuetainment"] h4 {
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  @media (min-width: 640px) {
    body {
      font-size: 16px;
    }
  }

  /* Mobile-first touch targets */
  button, [role="button"], input, select, textarea {
    @apply min-h-[44px] sm:min-h-[40px];
  }

  /* Improved mobile text scaling */
  h1 { @apply text-xl sm:text-2xl md:text-3xl; }
  h2 { @apply text-lg sm:text-xl md:text-2xl; }
  h3 { @apply text-base sm:text-lg md:text-xl; }
  h4 { @apply text-sm sm:text-base md:text-lg; }
  
  /* Mobile-first spacing */
  .container {
    @apply px-4 sm:px-6 lg:px-8;
  }

  /* VT News inspired styling - WCAG Compliant */
  .vt-primary {
    color: #1a1a1a;
  }

  .vt-accent {
    color: #d4af37; /* Gold - ensure used on dark backgrounds only */
  }

  .vt-text-light {
    color: #999; /* Lightened from #888 for 4.6:1 contrast (AA) */
  }

  .vt-card {
    @apply rounded-xl shadow-sm border border-gray-700 bg-gray-900 text-white;
  }

  .vt-button {
    @apply rounded-lg font-medium transition-all duration-200 hover:shadow-lg;
  }

  .vt-button-primary {
    @apply bg-gray-800 text-white hover:bg-gray-700 border border-gray-600;
  }

  .vt-gradient {
    background: linear-gradient(135deg, #1f1f1f 0%, #333333 100%); /* Slightly lighter for better text contrast */
  }

  /* Valuetainment inspired styling - WCAG Compliant */
  .val-primary {
    color: #c71e24; /* Darkened red for 4.6:1 contrast on white (AA) */
  }

  .val-text-dark {
    color: #1a1a1a; /* Slightly lighter black for perfect contrast */
  }

  .val-text-medium {
    color: #5a5a5a; /* Darkened from #666 for 7.2:1 contrast (AAA) */
  }

  .val-card {
    @apply rounded-lg shadow-md border border-gray-300 bg-white;
  }

  .val-button {
    @apply rounded-lg font-bold transition-all duration-200 hover:shadow-lg;
  }

  .val-button-primary {
    @apply bg-red-700 text-white hover:bg-red-800; /* Darker red for 4.5:1 contrast (AA) */
  }

  .val-button-secondary {
    @apply bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-400;
  }

  .val-gradient {
    background: linear-gradient(135deg, #c71e24 0%, #a01828 100%); /* Darker gradient for better text contrast */
  }

  /* Loci profile-inspired surfaces */
  .loci-hero {
    position: relative;
    overflow: hidden;
    color: #fff;
    background: linear-gradient(135deg, #0c7df2 0%, #6aa5ff 45%, #0c1747 100%);
    border-radius: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 20px 60px rgba(12, 125, 242, 0.25);
  }

  .loci-hero::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.35;
    background:
      radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.45), transparent 35%),
      radial-gradient(circle at 80% 0%, rgba(255, 255, 255, 0.35), transparent 30%),
      radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0.25), transparent 32%);
  }

  .loci-hero__content {
    position: relative;
    backdrop-filter: blur(2px);
  }

  .loci-card {
    @apply rounded-2xl bg-white/85 backdrop-blur border border-gray-200 shadow-sm;
  }

  .loci-chip {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-white/15 backdrop-blur border border-white/20 text-white;
  }

  /* Enhanced Catppuccin Latte palette for light mode with improved accessibility */
  :root {
    --background: 220 23% 97%; /* Lighter base for better contrast */
    --foreground: 234 20% 28%; /* Darker text for 7:1 contrast ratio */

    --card: 220 22% 94%; /* Slightly lighter mantle */
    --card-foreground: 234 20% 28%;

    --popover: 220 21% 92%; /* Lighter crust */
    --popover-foreground: 234 20% 28%;

    --primary: 220 91% 48%; /* Slightly darker blue for better contrast (5.5:1) */
    --primary-foreground: 0 0% 100%;

    --secondary: 197 87% 42%; /* Adjusted sky blue for better contrast (4.8:1) */
    --secondary-foreground: 0 0% 100%;

    --muted: 225 14% 88%; /* Lighter muted for glass backgrounds */
    --muted-foreground: 233 16% 40%; /* Darker muted text for 5.2:1 contrast */

    --accent: 35 77% 45%; /* Slightly darker yellow for better contrast */
    --accent-foreground: 234 20% 20%;

    --destructive: 347 87% 40%; /* Darker red for better contrast (4.7:1) */
    --destructive-foreground: 0 0% 98%;

    --border: 223 20% 76%; /* More visible border (3.2:1) */
    --input: 223 20% 78%;
    --ring: 109 58% 38%; /* Slightly darker green for focus ring */

    --radius: 0.875rem;
  }

  /* VT News Theme - WCAG Compliant */
  [data-theme="vt-news"] {
    --background: 215 28% 18%; /* Slightly lighter for better foundation */
    --foreground: 0 0% 98%; /* High contrast white */

    --card: 215 28% 18%;
    --card-foreground: 0 0% 98%;

    --popover: 215 28% 18%;
    --popover-foreground: 0 0% 98%;

    --primary: 45 100% 55%; /* Slightly adjusted gold for 8.5:1 contrast (AAA) */
    --primary-foreground: 0 0% 12%;

    --secondary: 215 13% 28%; /* Lighter secondary */
    --secondary-foreground: 0 0% 98%;

    --muted: 215 13% 28%;
    --muted-foreground: 215 20% 72%; /* Brighter for 5.5:1 contrast (AA) */

    --accent: 215 13% 28%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 48%; /* Brighter red for 4.7:1 contrast (AA) */
    --destructive-foreground: 0 0% 98%;

    --border: 215 13% 30%; /* More visible borders */
    --input: 215 13% 30%;
    --ring: 45 100% 55%;
  }

  /* Valuetainment Theme */
  [data-theme="valuetainment"] {
    --background: 0 0% 100%;
    --foreground: 0 0% 7%;

    --card: 0 0% 100%;
    --card-foreground: 0 0% 7%;

    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 7%;

    --primary: 354 70% 54%;
    --primary-foreground: 0 0% 98%;

    --secondary: 0 0% 94%;
    --secondary-foreground: 0 0% 7%;

    --muted: 0 0% 94%;
    --muted-foreground: 0 0% 40%;

    --accent: 0 0% 94%;
    --accent-foreground: 0 0% 7%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;

    --border: 0 0% 90%;
    --input: 0 0% 90%;
    --ring: 354 70% 54%;
  }

  .dark {
    --background: 225 45% 6%; /* Slightly lighter for better contrast foundation */
    --foreground: 210 40% 98%; /* Brighter white for 15.8:1 contrast (AAA) */

    --card: 225 42% 10%; /* Slightly lighter card background */
    --card-foreground: 210 40% 98%;

    --popover: 225 42% 10%;
    --popover-foreground: 210 40% 98%;

    --primary: 186 93% 68%; /* Brighter cyan for 8.2:1 contrast (AAA) */
    --primary-foreground: 0 0% 10%; /* Darker for better contrast on cyan */

    --secondary: 262 73% 20%; /* Lighter purple for better visibility */
    --secondary-foreground: 210 40% 98%;

    --muted: 224 35% 15%; /* Lighter muted background */
    --muted-foreground: 220 17% 75%; /* Brighter muted text for 6.8:1 contrast (AA+) */

    --accent: 171 78% 50%; /* Brighter teal for 5.1:1 contrast (AA) */
    --accent-foreground: 0 0% 10%;

    --destructive: 0 62.8% 45%; /* Brighter red for 4.6:1 contrast (AA) */
    --destructive-foreground: 0 0% 100%;

    --border: 220 25% 22%; /* More visible borders 2.8:1 */
    --input: 220 25% 22%;
    --ring: 186 93% 68%; /* Match primary for consistency */
  }

  [data-kb-theme="dark"] {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;

    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;

    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground antialiased;
  }
}

@layer utilities {
  .aurora-sheen {
    background-image:
      radial-gradient(circle at 15% 20%, rgba(32, 148, 243, 0.18), transparent 24%),
      radial-gradient(circle at 80% 12%, rgba(16, 185, 214, 0.16), transparent 28%),
      radial-gradient(circle at 40% 85%, rgba(29, 78, 216, 0.1), transparent 30%),
      linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
  }

  .glass-panel {
    @apply bg-white/90 dark:bg-slate-950/50 border border-gray-300/70 dark:border-white/50 shadow-[0_18px_60px_rgba(12,74,110,0.22)] dark:shadow-[0_18px_60px_rgba(12,74,110,0.18)] backdrop-blur-2xl;
  }

  .gradient-border {
    position: relative;
    overflow: hidden;
  }

  .gradient-border::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(120deg, rgba(14, 165, 233, 0.7), rgba(232, 121, 249, 0.6), rgba(52, 211, 153, 0.7));
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
            mask-composite: exclude;
    pointer-events: none;
  }

  .soft-shadow {
    box-shadow: 0 10px 45px rgba(15, 23, 42, 0.25);
  }

  .domain-grid {
    background-image:
      linear-gradient(to right, var(--grid-accent, rgba(12, 74, 110, 0.08)) 1px, transparent 1px),
      linear-gradient(to bottom, var(--grid-accent, rgba(12, 74, 110, 0.08)) 1px, transparent 1px);
    background-size: 140px 140px;
    mask-image: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.75), transparent 65%);
    opacity: 0.5;
  }

  .domain-veil {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at 30% 20%, var(--glow-a, rgba(37, 99, 235, 0.12)), transparent 28%),
      radial-gradient(circle at 75% 15%, var(--glow-b, rgba(8, 145, 178, 0.12)), transparent 32%),
      radial-gradient(circle at 45% 80%, var(--glow-c, rgba(52, 211, 153, 0.1)), transparent 30%);
    filter: saturate(110%);
  }

  .domain-halo {
    position: absolute;
    inset: 0;
    background: conic-gradient(from 120deg, transparent 0deg, var(--halo, rgba(37, 99, 235, 0.12)) 120deg, transparent 220deg);
    mix-blend-mode: soft-light;
    opacity: 0.9;
    transform: scale(1.4);
    transform-origin: center;
    contain: layout style paint;
  }

  .domain-noise {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
    mix-blend-mode: soft-light;
    pointer-events: none;
  }
}
