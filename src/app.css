@import "tailwindcss";
@config "../tailwind.config.cjs";

@layer base {
  body {
    font-family: "DM Sans", "Manrope", "Segoe UI", "Helvetica Neue", sans-serif;
    font-size: 14px;
    line-height: 1.5;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }

  h1,
  h2,
  h3,
  h4 {
    font-family: "Space Grotesk", "Epilogue", "Manrope", sans-serif;
    letter-spacing: -0.02em;
  }

  /* CLASSIC Theme (The "Editorial" Look) */
  [data-theme="classic"] body {
    font-family: "Lato", sans-serif;
    font-weight: 400;
  }

  [data-theme="classic"] h1,
  [data-theme="classic"] h2,
  [data-theme="classic"] h3,
  [data-theme="classic"] h4 {
    font-family: "Playfair Display", serif;
    font-weight: 700;
  }

  [data-theme="classic"] h3,
  [data-theme="classic"] h4 {
    font-style: italic;
    /* Design Tip: Italics for subheadings */
  }

  /* MODERN Theme (The "Super-App" Look) */
  [data-theme="modern"] body {
    font-family: "Inter", sans-serif;
    font-weight: 500;
    /* Medium for UI (Inter 500 is close to Medium) */
  }

  [data-theme="modern"] h1,
  [data-theme="modern"] h2,
  [data-theme="modern"] h3,
  [data-theme="modern"] h4 {
    font-family: "Plus Jakarta Sans", sans-serif;
    font-weight: 800;
    /* ExtraBold for titles */
    letter-spacing: -0.03em;
  }

  /* LOCI Theme (The "Bold / Distinctive" Look) */
  [data-theme="loci"] body {
    font-family: "DM Sans", sans-serif;
    font-weight: 400;
  }

  [data-theme="loci"] h1,
  [data-theme="loci"] h2,
  [data-theme="loci"] h3,
  [data-theme="loci"] h4 {
    font-family: "Space Grotesk", sans-serif;
    font-weight: 700;
  }

  /* Special Loci Rules */
  [data-theme="loci"] .card-kicker,
  [data-theme="loci"] .ui-label {
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  @media (min-width: 640px) {
    body {
      font-size: 16px;
    }
  }

  /* Mobile-first touch targets */
  button,
  [role="button"],
  input,
  select,
  textarea {
    @apply min-h-[44px] sm:min-h-[40px];
  }

  /* Improved mobile text scaling */
  h1 {
    @apply text-xl sm:text-2xl md:text-3xl;
  }

  h2 {
    @apply text-lg sm:text-xl md:text-2xl;
  }

  h3 {
    @apply text-base sm:text-lg md:text-xl;
  }

  h4 {
    @apply text-sm sm:text-base md:text-lg;
  }

  /* Mobile-first spacing */
  .container {
    @apply px-4 sm:px-6 lg:px-8;
  }

  /* VT News inspired styling - WCAG Compliant */
  .vt-primary {
    color: #1a1a1a;
  }

  .vt-accent {
    color: #d4af37;
    /* Gold - ensure used on dark backgrounds only */
  }

  .vt-text-light {
    color: #999;
    /* Lightened from #888 for 4.6:1 contrast (AA) */
  }

  .vt-card {
    @apply rounded-xl shadow-sm border border-gray-700 bg-gray-900 text-white;
  }

  .vt-button {
    @apply rounded-lg font-medium transition-all duration-200 hover:shadow-lg;
  }

  .vt-button-primary {
    @apply bg-gray-800 text-white hover:bg-gray-700 border border-gray-600;
  }

  .vt-gradient {
    background: linear-gradient(135deg, #1f1f1f 0%, #333333 100%);
    /* Slightly lighter for better text contrast */
  }

  /* Valuetainment inspired styling - WCAG Compliant */
  .val-primary {
    color: #c71e24;
    /* Darkened red for 4.6:1 contrast on white (AA) */
  }

  .val-text-dark {
    color: #1a1a1a;
    /* Slightly lighter black for perfect contrast */
  }

  .val-text-medium {
    color: #5a5a5a;
    /* Darkened from #666 for 7.2:1 contrast (AAA) */
  }

  .val-card {
    @apply rounded-lg shadow-md border border-gray-300 bg-white;
  }

  .val-button {
    @apply rounded-lg font-bold transition-all duration-200 hover:shadow-lg;
  }

  .val-button-primary {
    @apply bg-red-700 text-white hover:bg-red-800;
    /* Darker red for 4.5:1 contrast (AA) */
  }

  .val-button-secondary {
    @apply bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-400;
  }

  .val-gradient {
    background: linear-gradient(135deg, #c71e24 0%, #a01828 100%);
    /* Darker gradient for better text contrast */
  }

  /* Loci profile-inspired surfaces */
  .loci-hero {
    position: relative;
    overflow: hidden;
    color: #fff;
    background: var(
      --hero-gradient,
      linear-gradient(135deg, #0c7df2 0%, #6aa5ff 45%, #0c1747 100%)
    );
    border-radius: 1.5rem;
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 20px 60px rgba(12, 125, 242, 0.25);
  }

  .loci-hero::before {
    content: "";
    position: absolute;
    inset: 0;
    opacity: 0.35;
    background:
      radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.45), transparent 35%),
      radial-gradient(circle at 80% 0%, rgba(255, 255, 255, 0.35), transparent 30%),
      radial-gradient(circle at 50% 80%, rgba(255, 255, 255, 0.25), transparent 32%);
  }

  .loci-hero__content {
    position: relative;
    backdrop-filter: blur(2px);
  }

  .loci-card {
    @apply rounded-2xl bg-white/85 backdrop-blur border border-gray-200 shadow-sm;
  }

  .loci-chip {
    @apply inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-white/15 backdrop-blur border border-white/20 text-white;
  }

  /* Enhanced Catppuccin Latte palette for light mode with improved accessibility */
  :root {
    --background: 220 23% 97%;
    /* Lighter base for better contrast */
    --foreground: 234 20% 28%;
    /* Darker text for 7:1 contrast ratio */

    --card: 220 22% 94%;
    /* Slightly lighter mantle */
    --card-foreground: 234 20% 28%;

    --popover: 220 21% 92%;
    /* Lighter crust */
    --popover-foreground: 234 20% 28%;

    --primary: 220 91% 48%;
    /* Slightly darker blue for better contrast (5.5:1) */
    --primary-foreground: 0 0% 100%;

    --secondary: 197 87% 42%;
    /* Adjusted sky blue for better contrast (4.8:1) */
    --secondary-foreground: 0 0% 100%;

    --muted: 225 14% 88%;
    /* Lighter muted for glass backgrounds */
    --muted-foreground: 233 16% 40%;
    /* Darker muted text for 5.2:1 contrast */

    --accent: 35 77% 45%;
    /* Slightly darker yellow for better contrast */
    --accent-foreground: 234 20% 20%;

    --destructive: 347 87% 40%;
    /* Darker red for better contrast (4.7:1) */
    --destructive-foreground: 0 0% 98%;

    --border: 223 20% 76%;
    /* More visible border (3.2:1) */
    --input: 223 20% 78%;
    --ring: 109 58% 38%;
    /* Slightly darker green for focus ring */

    --radius: 1.25rem;
  }

  /* ========================================
     CLASSIC Theme (Editorial Luxury)
     ======================================== */

  /* Classic Light Mode */
  [data-theme="classic"] {
    --background: 40 33% 96%;
    /* Warm cream */
    --foreground: 30 10% 20%;
    /* Deep brown-black */

    --card: 40 30% 93%;
    --card-foreground: 30 10% 20%;

    --popover: 40 25% 90%;
    --popover-foreground: 30 10% 20%;

    --primary: 30 60% 35%;
    /* Rich brown/gold */
    --primary-foreground: 40 33% 96%;

    --secondary: 40 20% 85%;
    --secondary-foreground: 30 10% 25%;

    --muted: 40 15% 88%;
    --muted-foreground: 30 8% 45%;

    --accent: 25 70% 40%;
    /* Warm amber */
    --accent-foreground: 40 33% 96%;

    --destructive: 0 70% 45%;
    --destructive-foreground: 0 0% 98%;

    --border: 40 15% 78%;
    --input: 40 15% 80%;
    --ring: 30 60% 35%;

    --hero-gradient: linear-gradient(135deg, #8a6e2f 0%, #d4af37 45%, #3d2b0f 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(212, 175, 55, 0.6),
      rgba(245, 158, 11, 0.6),
      rgba(180, 83, 9, 0.6)
    );
  }

  /* Classic Dark Mode */
  [data-theme="classic"].dark,
  .dark [data-theme="classic"],
  [data-theme="classic"][data-kb-theme="dark"] {
    --background: 30 15% 10%;
    /* Deep warm brown */
    --foreground: 40 20% 90%;
    /* Warm off-white */

    --card: 30 12% 14%;
    --card-foreground: 40 20% 90%;

    --popover: 30 12% 12%;
    --popover-foreground: 40 20% 90%;

    --primary: 35 70% 55%;
    /* Bright gold */
    --primary-foreground: 30 15% 10%;

    --secondary: 30 10% 20%;
    --secondary-foreground: 40 20% 90%;

    --muted: 30 10% 18%;
    --muted-foreground: 40 15% 65%;

    --accent: 35 80% 50%;
    --accent-foreground: 30 15% 10%;

    --destructive: 0 65% 50%;
    --destructive-foreground: 0 0% 98%;

    --border: 30 10% 22%;
    --input: 30 10% 22%;
    --ring: 35 70% 55%;

    --hero-gradient: linear-gradient(135deg, #5c4033 0%, #78350f 45%, #451a03 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(146, 64, 14, 0.6),
      rgba(180, 83, 9, 0.6),
      rgba(120, 53, 15, 0.6)
    );
  }

  /* ========================================
     MODERN Theme (Super-App / Functional)
     ======================================== */

  /* Modern Light Mode */
  [data-theme="modern"] {
    --background: 210 20% 98%;
    /* Cool neutral white */
    --foreground: 220 15% 15%;
    /* Near-black */

    --card: 210 18% 95%;
    --card-foreground: 220 15% 15%;

    --popover: 210 15% 93%;
    --popover-foreground: 220 15% 15%;

    --primary: 220 90% 50%;
    /* Vibrant blue */
    --primary-foreground: 0 0% 100%;

    --secondary: 210 15% 90%;
    --secondary-foreground: 220 15% 20%;

    --muted: 210 12% 88%;
    --muted-foreground: 220 10% 45%;

    --accent: 200 85% 45%;
    /* Bright teal-blue */
    --accent-foreground: 0 0% 100%;

    --destructive: 0 85% 50%;
    --destructive-foreground: 0 0% 98%;

    --border: 210 15% 82%;
    --input: 210 15% 85%;
    --ring: 220 90% 50%;

    /* Hero Theme vars */
    --hero-gradient: linear-gradient(135deg, #0c7df2 0%, #6aa5ff 45%, #0c1747 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(59, 130, 246, 0.6),
      rgba(6, 182, 212, 0.6),
      rgba(147, 51, 234, 0.6)
    );
  }

  /* Modern Dark Mode */
  [data-theme="modern"].dark,
  .dark [data-theme="modern"],
  [data-theme="modern"][data-kb-theme="dark"] {
    --background: 220 25% 8%;
    /* Deep navy */
    --foreground: 210 20% 95%;
    /* Bright white */

    --card: 220 22% 12%;
    --card-foreground: 210 20% 95%;

    --popover: 220 22% 10%;
    --popover-foreground: 210 20% 95%;

    --primary: 220 95% 65%;
    /* Bright blue */
    --primary-foreground: 220 25% 8%;

    --secondary: 220 18% 18%;
    --secondary-foreground: 210 20% 95%;

    --muted: 220 15% 15%;
    --muted-foreground: 210 15% 65%;

    --accent: 200 90% 55%;
    --accent-foreground: 220 25% 8%;

    --destructive: 0 70% 55%;
    --destructive-foreground: 0 0% 98%;

    --border: 220 18% 20%;
    --input: 220 18% 20%;
    --ring: 220 95% 65%;

    --hero-gradient: linear-gradient(135deg, #0f172a 0%, #1e40af 45%, #020617 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(30, 64, 175, 0.6),
      rgba(59, 130, 246, 0.6),
      rgba(30, 58, 138, 0.6)
    );
  }

  /* ========================================
     LOCI Theme (Premium / Copilot-Inspired)
     ======================================== */

  /* Loci Light Mode */
  [data-theme="loci"] {
    --background: 0 0% 99%;
    /* Clean white */
    --foreground: 0 0% 10%;
    /* Soft black */

    --card: 0 0% 97%;
    --card-foreground: 0 0% 10%;

    --popover: 0 0% 96%;
    --popover-foreground: 0 0% 10%;

    --primary: 0 0% 10%;
    /* Near-black primary */
    --primary-foreground: 0 0% 99%;

    --secondary: 0 0% 94%;
    --secondary-foreground: 0 0% 15%;

    --muted: 0 0% 92%;
    --muted-foreground: 0 0% 45%;

    --accent: 160 50% 38%;
    /* Softer teal accent */
    --accent-foreground: 0 0% 99%;

    --destructive: 0 65% 48%;
    --destructive-foreground: 0 0% 99%;

    --border: 0 0% 88%;
    --input: 0 0% 90%;
    --radius: 1rem;

    --hero-gradient: linear-gradient(160deg, #0a0a0a 0%, #1a1a1a 50%, #0a0a0a 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(16, 185, 129, 0.4),
      rgba(20, 184, 166, 0.3),
      rgba(6, 182, 212, 0.3)
    );
  }

  /* Loci Dark Mode */
  [data-theme="loci"].dark,
  .dark [data-theme="loci"],
  [data-theme="loci"][data-kb-theme="dark"] {
    --background: 0 0% 4%;
    /* Deep black like Copilot */
    --foreground: 0 0% 96%;
    /* Clean white */

    --card: 0 0% 7%;
    --card-foreground: 0 0% 96%;

    --popover: 0 0% 6%;
    --popover-foreground: 0 0% 96%;

    --primary: 0 0% 96%;
    /* Near-white primary */
    --primary-foreground: 0 0% 4%;

    --secondary: 0 0% 12%;
    --secondary-foreground: 0 0% 96%;

    --muted: 0 0% 10%;
    --muted-foreground: 0 0% 55%;

    --accent: 160 55% 42%;
    /* Softer teal for dark */
    --accent-foreground: 0 0% 4%;

    --destructive: 0 60% 50%;
    --destructive-foreground: 0 0% 99%;

    --border: 0 0% 14%;
    --input: 0 0% 14%;
    --ring: 0 0% 96%;
    --radius: 1rem;

    --hero-gradient: linear-gradient(160deg, #000000 0%, #0a0a0a 50%, #050505 100%);
    --hero-glow: linear-gradient(
      to top right,
      rgba(16, 185, 129, 0.25),
      rgba(20, 184, 166, 0.2),
      rgba(6, 182, 212, 0.2)
    );
  }

  .dark {
    --background: 225 45% 6%;
    /* Slightly lighter for better contrast foundation */
    --foreground: 210 40% 98%;
    /* Brighter white for 15.8:1 contrast (AAA) */

    --card: 225 42% 10%;
    /* Slightly lighter card background */
    --card-foreground: 210 40% 98%;

    --popover: 225 42% 10%;
    --popover-foreground: 210 40% 98%;

    --primary: 186 93% 68%;
    /* Brighter cyan for 8.2:1 contrast (AAA) */
    --primary-foreground: 0 0% 10%;
    /* Darker for better contrast on cyan */

    --secondary: 262 73% 20%;
    /* Lighter purple for better visibility */
    --secondary-foreground: 210 40% 98%;

    --muted: 224 35% 15%;
    /* Lighter muted background */
    --muted-foreground: 220 17% 75%;
    /* Brighter muted text for 6.8:1 contrast (AA+) */

    --accent: 171 78% 50%;
    /* Brighter teal for 5.1:1 contrast (AA) */
    --accent-foreground: 0 0% 10%;

    --destructive: 0 62.8% 45%;
    /* Brighter red for 4.6:1 contrast (AA) */
    --destructive-foreground: 0 0% 100%;

    --border: 220 25% 22%;
    /* More visible borders 2.8:1 */
    --input: 220 25% 22%;
    --ring: 186 93% 68%;
    /* Match primary for consistency */
  }

  [data-kb-theme="dark"] {
    --background: 240 10% 3.9%;
    --foreground: 0 0% 98%;

    --card: 240 10% 3.9%;
    --card-foreground: 0 0% 98%;

    --popover: 240 10% 3.9%;
    --popover-foreground: 0 0% 98%;

    --primary: 0 0% 98%;
    --primary-foreground: 240 5.9% 10%;

    --secondary: 240 3.7% 15.9%;
    --secondary-foreground: 0 0% 98%;

    --muted: 240 3.7% 15.9%;
    --muted-foreground: 240 5% 64.9%;

    --accent: 240 3.7% 15.9%;
    --accent-foreground: 0 0% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 0 0% 98%;

    --border: 240 3.7% 15.9%;
    --input: 240 3.7% 15.9%;
    --ring: 240 4.9% 83.9%;
    --radius: 0.875rem;
  }

  /* JETBRAINS ISLANDS UTILITIES */
  .island-container {
    padding: 1rem;
    background-color: hsl(var(--background));
    min-height: calc(100vh - 4rem);
  }

  .island-panel {
    background-color: hsl(var(--card));
    border-radius: var(--island-radius, 1.25rem);
    border: 1px solid hsl(var(--border) / 0.5);
    box-shadow:
      0 4px 24px -1px rgba(0, 0, 0, 0.05),
      0 2px 8px -1px rgba(0, 0, 0, 0.03);
    overflow: hidden;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark .island-panel {
    background-color: hsl(var(--card) / 0.8);
    backdrop-filter: blur(20px);
    border: 1px solid hsl(var(--border) / 0.15);
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
  }

  .island-nav {
    margin: 1rem 1rem 0 1rem;
    border-radius: 1.25rem;
    border: 1px solid hsl(var(--border) / 0.5);
    background-color: hsl(var(--card) / 0.9);
    backdrop-filter: blur(12px);
  }

  .dark .island-nav {
    background-color: hsl(var(--background) / 0.7);
    border: 1px solid hsl(var(--border) / 0.2);
  }

  /* Instant Tab Recognition Styles */
  .jb-tab {
    position: relative;
    transition: all 0.2s ease;
  }

  .jb-tab-active {
    background-color: hsl(var(--primary) / 0.1);
    color: hsl(var(--primary));
  }

  .jb-tab-active::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0.5rem;
    right: 0.5rem;
    height: 3px;
    background-color: hsl(var(--primary));
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
  }

  [data-theme="loci"] .jb-tab-active {
    background-color: hsl(var(--foreground));
    color: hsl(var(--background));
    border-radius: 0.75rem;
  }

  [data-theme="loci"] .jb-tab-active::after {
    display: none;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-foreground antialiased;
  }
}

@layer utilities {
  .aurora-sheen {
    background-image:
      radial-gradient(circle at 15% 20%, rgba(32, 148, 243, 0.18), transparent 24%),
      radial-gradient(circle at 80% 12%, rgba(16, 185, 214, 0.16), transparent 28%),
      radial-gradient(circle at 40% 85%, rgba(29, 78, 216, 0.1), transparent 30%),
      linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05));
  }

  .glass-panel {
    @apply bg-white/95 dark:bg-white/[0.03] border border-gray-200/80 dark:border-white/[0.08] backdrop-blur-xl;
    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
  }

  .dark .glass-panel {
    box-shadow: 0 4px 32px rgba(0, 0, 0, 0.4);
  }

  .gradient-border {
    position: relative;
    overflow: hidden;
  }

  .gradient-border::before {
    content: "";
    position: absolute;
    inset: -1px;
    border-radius: inherit;
    padding: 1px;
    background: linear-gradient(
      135deg,
      rgba(16, 185, 129, 0.3),
      rgba(20, 184, 166, 0.25),
      rgba(6, 182, 212, 0.3)
    );
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
  }

  .soft-shadow {
    box-shadow: 0 10px 45px rgba(15, 23, 42, 0.25);
  }

  .domain-grid {
    background-image:
      linear-gradient(to right, var(--grid-accent, rgba(12, 74, 110, 0.08)) 1px, transparent 1px),
      linear-gradient(to bottom, var(--grid-accent, rgba(12, 74, 110, 0.08)) 1px, transparent 1px);
    background-size: 140px 140px;
    mask-image: radial-gradient(circle at 50% 50%, rgba(0, 0, 0, 0.75), transparent 65%);
    opacity: 0.5;
  }

  .domain-veil {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(circle at 30% 20%, var(--glow-a, rgba(37, 99, 235, 0.12)), transparent 28%),
      radial-gradient(circle at 75% 15%, var(--glow-b, rgba(8, 145, 178, 0.12)), transparent 32%),
      radial-gradient(circle at 45% 80%, var(--glow-c, rgba(52, 211, 153, 0.1)), transparent 30%);
    filter: saturate(110%);
  }

  .domain-halo {
    position: absolute;
    inset: 0;
    background: conic-gradient(
      from 120deg,
      transparent 0deg,
      var(--halo, rgba(37, 99, 235, 0.12)) 120deg,
      transparent 220deg
    );
    mix-blend-mode: soft-light;
    opacity: 0.9;
    transform: scale(1.4);
    transform-origin: center;
    contain: layout style paint;
  }

  .domain-noise {
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E");
    mix-blend-mode: soft-light;
    pointer-events: none;
  }

  .hero-glow {
    background: var(--hero-glow);
  }
}
